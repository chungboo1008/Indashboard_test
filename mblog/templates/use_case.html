<!DOCTYPE >
<html>
<head>
    <meta charset="utf-8">
    <title>
        歡迎使用InAnalysis分析功能
    </title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.2.0/css/all.css" integrity="sha384-hWVjflwFxL6sNzntih27bfxkr27PmbbK/iSvJ+a4+0owXq79v+lsFkW54bOGbiDQ" crossorigin="anonymous">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <link rel="stylesheet" href="/static/assets/css/common.css">
    <link rel="stylesheet" href="/static/assets/css/nav.css">
    <link rel="stylesheet" href="/static/assets/css/use_case.css">
    <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
</head>
<body class="bg-light">
   

 {% include "temp/header.html" %}

  <div class="container pt-4" id="app">

    <div class="body-content">
      <el-steps :active="step" align-center>
            <el-step title="步驟1" description="選擇案例式選擇的方法"></el-step>
            <el-step title="步驟2" description="輸入查詢內容"></el-step>
            <el-step title="步驟3" description="顯示資料查詢結果"></el-step>
      </el-steps>


        <div v-show="step == 1">
          
         
          <div class="row justify-content-center">
          
           
          <div class="col-5">
            <h3 class="text-center mt-3">選擇案例式分析流程</h3>

            <select class="form-control mt-3" v-model="scenery">
              <option value="search">單關鍵字檢索</option>
              <option value="knowlege-graph">知識圖譜檢索</option>
              <option value="expert">問題描述文本推薦</option>
              <option value="device">設備查詢</option>
            </select> 
        
          </div>
          
          </div>
          <h3 class="text-center mt-5">案例式分析流程介紹</h3>
          <div class="row justify-content-center mt-2">
              <div class="col-1">
                  <img src="https://img.icons8.com/color/48/000000/windmill.png">
              </div>
              <div class="col-10">
                
                  
              <span>
                  本功能提供使用者四種情境。</br>
                  1. 單關鍵字檢索推薦：使用者可以透過本模組的搜尋功能，找到合適的解決方案。</br>
                  2. 知識圖譜檢索推薦：使用者可以透過知識圖譜的方式，提供使用者候選關鍵字。</br>
                  3. 問題描述文本推薦：使用者可以透過由本系統所訓練出來的自然語言模型，來產生合適的解決方案。</br>
                  4. 設備查詢：使用者可以透過本系統所收集的資料，經查詢設備後得到方法、結果，與相關論文。
              </span>
              </div>
            </div>
        
          
           

          <div class="col-12 text-center">
              <button class="btn btn-primary px-3 mt-5" v-on:click="nextStep">分析</button>
          </div>
        </div>
        <div v-show="step == 2">

          
            <div v-if="scenery=='search'">
                <div class="row justify-content-center">
                    <div class="col-12">
                      <h3 class="text-center mt-3">輸入關鍵字</h3>
                    </div>
                </div>
                <div class="row justify-content-center mt-3">
                    <div class="cc-selector mt-3">
                      <div class="row justify-content-center">
                          <div class="mr-5">
                            <div class="row justify-content-center mb-3">
                                <h3 style ="text-align:center">一般尋找</h3>
                            </div>
                            <div class="row">
                                <input id="tableSearch" type="radio" name="credit-card" v-model ="search_mode" value="tableSearch"/>
                                <label class="drinkcard-cc tableSearch"  for="tableSearch"></label>
                            </div>
                             
                          </div>
                          <div>
                              <div class="row justify-content-center mb-3">
                                  <h3 style ="text-align:center">Google尋找</h3>
                              </div>
                              <div class="row">
                                  <input id="tableCreate" type="radio" name="credit-card" v-model ="search_mode" value="tableCreate" />
                                  <label class="drinkcard-cc tableCreate" style ="text-align:center" for="tableCreate"></label>
                              </div>
                               
                          </div>
                      </div>
                    </div>
                </div>
                
                <div class="row justify-content-center">
                          <div class="col-4 px-3 mt-5">
                            <template>
                              <el-input
                                type="text"
                                placeholder="請輸入內容"
                                v-model="text"
                                maxlength="10"
                                show-word-limit
                              >
                              </el-input>
                            </template>
                          </div>
                  </div>
                   
                <div class="row justify-content-center  mt-5">
                  <div class="col-12">
                    <div class="row justify-content-center">
                       
                        <div class="text-center">
                          <button class="btn btn-primary px-3"  v-on:click="nextStep">搜尋</button>
                        </div>
                    </div>
                  </div>
                
              </div>
            </div>
            <div v-if="scenery=='knowlege-graph'">
                <div class="row justify-content-center">
                    <div class="col-12 mb-3">
                      <h3 class="text-center mt-3">輸入關鍵字</h3>
                    </div>
                </div>
                <div class="row justify-content-center">
                       
                    <div class="col-4">
                      <template>
                        <el-input
                          type="text"
                          placeholder="請輸入內容"
                          v-model="text"
                          maxlength="10"
                          show-word-limit
                        >
                        </el-input>
                      </template>
                    </div>
                       
                </div>
                <div class="col-12 text-center">
                    <button class="btn btn-primary px-3 mt-5"  v-on:click="nextStep" >搜尋</button>
                </div>
            </div>
            <div v-if="scenery=='expert'">
                <div class="row justify-content-center">
                    <div class="col-12 mb-3">
                      <h3 class="text-center mt-3">輸入問題摘要</h3>
                    </div>
                </div>
                <div class="row justify-content-center">
                       <div class="col-5">
                        <template >
                          </el-input>
                            <div style="margin: 20px 0;"></div>
                              <el-input
                                type="textarea"
                                placeholder="請輸入內容"
                                v-model="textarea"
                                :rows="10"
                              >
                            </el-input>
                         
                          </template>
                     
                       </div>
                          
                       
                </div>
                <div class="col-12 text-center">
                    <button class="btn btn-primary px-3 mt-5" v-bind:disabled="textarea.length <= 5"  v-on:click="DialogVisibleMode =true" >搜尋</button>
                </div>
                <div class="row justify-content-center mt-5 pt-2">
                  <div class="col-1">
                    <img src="https://img.icons8.com/color/48/000000/light.png">
                  </div>
                  <div class="col-8">
                  <span style="width: 303px;">
                      根據您在智慧工業中所遭遇之問題需求輸入30至100字的問題描述，本系統將透過深度學習計算相似度並找出最近似解決方案。
                    </span>
                  </div>
              </div>
            </div>
            <div v-if="scenery=='device'">
                <div class="row justify-content-center">
                    <div class="col-12 mb-3">
                      <h3 class="text-center mt-3">輸入設備名稱
                      </h3>
                    </div>
                </div>
                <div class="row justify-content-center">
                  <div class = 'col-4'>
                    <template>
                        <el-input
                          type="text"
                          placeholder="請輸入設備名稱"
                          v-model="device_name"
                          maxlength="10"
                          show-word-limit
                        >
                        </el-input>
                      </template>
                  </div> 
                </div>
                <div class="col-12 text-center">
                    <button class="btn btn-primary px-3 mt-5"  v-on:click="nextStep" >搜尋</button>
                </div>

            </div>

        </div>
 
        <div v-show="step == 3">
          <div v-show = "scenery == 'knowlege-graph'">
           
            <div class="row justify-content-center mt-4">
              <div id='container'></div>
            </div>

            <el-card class="box-card mt-3" v-for="(item,index) in keywords">
                <div slot="header" class="clearfix">
                  <span v-text="item"></span>
                </div>
                <template>
                    <el-table
                      :data="tableData[item]"
                      style="width: 100%">
                      <el-table-column type="expand">
                        <template slot-scope="props">
                          <el-form label-position="left" inline class="demo-table-expand">
                            
                            <el-form-item label="論文名稱">
                              <span v-text="props.row.c_title"></span>
                            </el-form-item>
                            <el-form-item label="論文英文">
                              <span v-text="props.row.e_title"></span>
                            </el-form-item>
                            <el-form-item label="中文關鍵字">
                              <span v-text="props.row.c_keyword"></span>
                            </el-form-item>
                            <el-form-item label="英文關鍵字">
                              <span v-text="props.row.e_keyword"></span>
                            </el-form-item>
                            <el-form-item label="連結">
                              <span v-text="props.row.url"></span>
                            </el-form-item>
                            <el-form-item label="摘要">
                              <span v-text="props.row.abstract"></span>
                            </el-form-item>
                          </el-form>
                                <!-- <span class="demonstration">評分：</span>
                                <el-rate
                                  v-model="value2"
                                  :colors="colors">
                                </el-rate> -->
                                <iframe v-bind:src="iframe_url" width="450" height="80" style="border:none;overflow:hidden" scrolling="no" frameborder="0" allowTransparency="true" allow="encrypted-media"></iframe>

                        </template>
                        
                       
                      </el-table-column>
                      <el-table-column
                        label="論文ID"
                        prop="id">
                      </el-table-column>
                      <el-table-column
                        label="論文名稱"
                        prop="c_title">
                      </el-table-column>
                      <el-table-column
                        label="中文關鍵字"
                        prop="c_keyword">
                      </el-table-column>
                    </el-table>
                  </template>

            </el-card>
          </div>
          <div v-show = "scenery == 'search'">
             <div class="mt-3" v-show = "search_mode == 'tableSearch'">
                <template >
                    <el-table
                      :data="search_result"
                      style="width: 100%">
                      <el-table-column type="expand">
                        <template slot-scope="props">
                          <el-form label-position="left" inline class="demo-table-expand">
                            
                            <el-form-item label="論文名稱">
                              <span v-text="props.row.c_title"></span>
                            </el-form-item>
                            <el-form-item label="論文英文">
                              <span v-text="props.row.e_title"></span>
                            </el-form-item>
                            <el-form-item label="中文關鍵字">
                              <span v-text="props.row.c_keyword"></span>
                            </el-form-item>
                            <el-form-item label="英文關鍵字">
                              <span v-text="props.row.e_keyword"></span>
                            </el-form-item>
                            <el-form-item label="連結">
                              <span v-text="props.row.url"></span>
                            </el-form-item>
                            <el-form-item label="摘要">
                              <span v-text="props.row.abstract"></span>
                            </el-form-item>
                          </el-form>
                        </template>
                       
                      </el-table-column>
                      <el-table-column
                        label="論文ID"
                        prop="id">
                      </el-table-column>
                      <el-table-column
                        label="論文名稱"
                        prop="c_title">
                      </el-table-column>
                      <el-table-column
                        label="中文關鍵字"
                        prop="c_keyword">
                      </el-table-column>
                    </el-table>
                  </template>
             </div>
            <div class="mt-3" v-show = "search_mode == 'tableCreate'">
                <template>
                    <el-table
                      :data="search_result"
                      style="width: 100%">
                      <el-table-column type="expand">
                        <template slot-scope="props">
                          <el-form label-position="left" inline class="demo-table-expand">
                            
                            <el-form-item label="論文名稱">
                              <span v-text="props.row.c_title"></span>
                            </el-form-item>
                            <!-- <el-form-item label="論文英文">
                              <span v-text="props.row.e_title"></span>
                            </el-form-item>
                            <el-form-item label="中文關鍵字">
                              <span v-text="props.row.c_keyword"></span>
                            </el-form-item>
                            <el-form-item label="英文關鍵字">
                              <span v-text="props.row.e_keyword"></span> -->
                            </el-form-item>
                            <el-form-item label="連結">
                              <span v-text="props.row.url"></span>
                            </el-form-item>
                            <el-form-item label="摘要">
                              <span v-text="props.row.abstract"></span>
                            </el-form-item>
                          </el-form>
                        </template>
                       
                      </el-table-column>
                      <el-table-column
                        label="論文名稱"
                        prop="c_title">
                      </el-table-column>
                      <el-table-column
                        label="論文連結"
                        prop="url">
                      </el-table-column>
                      
                    </el-table>
              </template>
            </div>
         
          </div>
          <div v-show = "scenery == 'device'">
              <template>
                  <el-table
                    :data="device_result"
                    style="width: 100%">
                    <el-table-column type="expand">
                      <template slot-scope="props">
                        <el-form label-position="left" inline class="demo-table-expand">
                          
                          <el-form-item label="論文名稱">
                            <span v-text="props.row.title"></span>
                          </el-form-item>
                          <el-form-item label="設備">
                            <span v-text="props.row.equiment"></span>
                          </el-form-item>
                          <el-form-item label="欲解決問題">
                            <span v-text="props.row.problem"></span>
                          </el-form-item>
                          <el-form-item label="結果">
                            <span v-text="props.row.result"></span>
                          </el-form-item>
                          <el-form-item label="時間">
                            <span v-text="props.row.time"></span>
                          </el-form-item>
                         
                        </el-form>
                      </template>
                     
                    </el-table-column>
                    <el-table-column
                      label="論文名稱"
                      prop="title">
                    </el-table-column>
                    <el-table-column
                      label="設備"
                      prop="equiment">
                    </el-table-column>
                    <el-table-column
                      label="使用方法"
                      prop="algorithm">
                    </el-table-column>
                  </el-table>
                </template>
          </div>
          <div v-show = "scenery == 'expert'">
              <div class="row justify-content-center">
                  <h3 class="text-center mt-3">案例智慧推薦結果，候選方法如下：</h3>
              </div>
              <div class="row justify-content-center">
                <div class="col-8">
                    <el-card class="box-card mt-3" shadow="always">
                      <div id="expert_container"></div>
                      <template>
                        <el-table
                          v-loading="loading"
                          element-loading-text="載入中..."
                          element-loading-spinner="el-icon-loading"
                          element-loading-background="rgba(0, 0, 0, 0.8)"
                          :data= "recommand_methods"
                          size = "medium"
                          border>
                          <el-table-column
                            prop="methods"
                            label="方法"
                            width="250">
                          </el-table-column>
                          
                          <el-table-column
                            label="操作"
                            width="350"
                          >
                            <template slot-scope="scope">
                              <el-button @click="handleMore(scope.$index, scope.row)" size="large" type="primary"><i class="far fa-question-circle"></i>更多</el-button>
                              <el-button @click="handleUseCase(scope.$index, scope.row)" type="info" size="large"><i class="fas fa-book"></i>Use Case</el-button>
                              <el-button @click="handleGo(scope.$index, scope.row)" type="success" size="large"  icon="el-icon-right" ></el-button>
                             
                            </template>
                          </el-table-column>
                        </el-table>
                      </template>
                    </el-card>
                  </div>
                </div>
          </div>
          
    
        </div>
        <el-dialog
            title="提示"
            :visible.sync="dialogVisible"
            width="80%"
            >
            <template>
              <el-table
                :data= "select_papers"
                size = "small"
                border>
                <el-table-column
                prop="title"
                label="中文標題"
                width="350">
              </el-table-column>
                <el-table-column
                prop="paper_year"
                label="年份"
                width="100">
              </el-table-column>
                <el-table-column
                  prop="abstract"
                  label="摘要"
                  width="450">
                </el-table-column>
                <el-table-column
                  prop="keyword"
                  label="中文關鍵字"
                  width="350">
                </el-table-column>
                
                </el-table>
              </template>
            <span slot="footer" class="dialog-footer">
              <el-button @click="dialogVisible = false">取 消</el-button>
              <el-button type="primary" @click="dialogVisible = false">确 定</el-button>
            </span>
          </el-dialog>
          <el-dialog
          title="用例"
          :visible.sync="dialogVisibleUseCase"
          width="80%"
          center
          >
          <div class="row justify-content-center">
            <el-card class="box-card mt-3" v-for="(item,index) in select_usecases">
              <el-form ref="form" :model="item" label-width="80px">
                <el-form-item label="用例名稱">
                  <span v-text="item.title"></span>
                </el-form-item>
                <el-form-item label="方法">
                  <span v-text="item.method"></span>
                </el-form-item>
                <el-form-item label="範圍">
                  <span v-text="item.scope"></span>
                </el-form-item>
                <el-form-item label="年份">
                  <span v-text="item.paper_year"></span>
                </el-form-item>
                <el-form-item label="關鍵字">
                  <span v-text="item.keyword"></span>
                </el-form-item>
                <el-form-item label="故事">
                  <span v-text="item.abstract"></span>
                </el-form-item>
              </el-form>

            </el-card>
          </div>
        </el-dialog>
        <el-dialog
            title="選擇模式"
            :visible.sync="DialogVisibleMode"
            width="70%"
            center>
            <div class="row justify-content-center mt-3">
              <div class="cc-selector mt-3">
                <div class="row justify-content-center">
                    <div class="mr-5">
                      <div class="row justify-content-center mb-3">
                          <h3 style ="text-align:center">一般尋找</h3>
                      </div>
                      <div class="row">
                          <input id="tableSearch" type="radio" name="credit-card" v-model ="search_mode" value="tableSearch"/>
                          <label class="drinkcard-cc tableSearch"  for="tableSearch"></label>
                      </div>
                       
                    </div>
                    <div>
                        <div class="row justify-content-center mb-3">
                            <h3 style ="text-align:center">Google尋找</h3>
                        </div>
                        <div class="row">
                            <input id="tableCreate" type="radio" name="credit-card" v-model ="search_mode" value="tableCreate" />
                            <label class="drinkcard-cc tableCreate" style ="text-align:center" for="tableCreate"></label>
                        </div>
                         
                    </div>
                </div>
              </div>
          </div>



            <span slot="footer" class="dialog-footer">
              <el-button @click="DialogVisibleMode = false">取 消</el-button>
              <el-button type="primary" @click="nextStep">確定</el-button>
            </span>
          </el-dialog>
        <div class="loadingPanel" v-show="ajaxing">
            <i class="fas fa-spinner fa-spin fa-4x"></i>
        </div>
    </div>
    
  </div>



  

 {% include "temp/footer.html" %}

</body>
</html>
<script src="https://cdn.jsdelivr.net/npm/vue"></script>
<script src="https://unpkg.com/vue/dist/vue.js"></script>
<script src="https://unpkg.com/element-ui/lib/index.js"></script>
<script src="https://code.highcharts.com/highcharts.js"></script>
<script src="https://code.highcharts.com/modules/networkgraph.js"></script>
<script src="https://code.highcharts.com/modules/exporting.js"></script>
<script src="https://code.highcharts.com/modules/wordcloud.js"></script>
<script async defer crossorigin="anonymous" src="https://connect.facebook.net/zh_TW/sdk.js#xfbml=1&version=v3.3"></script>
<script src="/static/assets/js/use_case/app.js"></script>
